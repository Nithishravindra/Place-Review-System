
-- USERS -- 

CREATE TABLE `USERS` (
  `USER_ID` int(3) NOT NULL AUTO_INCREMENT,
  `NAME` varchar(50) DEFAULT NULL,
  `EMAIL` varchar(40) DEFAULT NULL,
  `PASSWORD` varchar(50) DEFAULT NULL,
  `PHNO` int(15) DEFAULT NULL,
  PRIMARY KEY (`USER_ID`),
  UNIQUE KEY `EMAIL_UNIQUE` (`EMAIL`)
) ENGINE=InnoDB AUTO_INCREMENT=82 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci

-- PLACES -- 

CREATE TABLE `PLACES` (
  `PLACE_ID` int(11) NOT NULL AUTO_INCREMENT,
  `PLACE_TITLE` varchar(50) DEFAULT NULL,
  `PLACE_DESCRIPTION` varchar(280) DEFAULT NULL,
  `USER_ID` int(3) NOT NULL,
  PRIMARY KEY (`PLACE_ID`),
  UNIQUE KEY `PLACE_TITLE_UNIQUE` (`PLACE_TITLE`),
  KEY `fk_PLACES_USERS_idx` (`USER_ID`),
  CONSTRAINT `fk_PLACES_USERS` FOREIGN KEY (`USER_ID`) REFERENCES `users` (`USER_ID`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=58 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci

-- RATING --

CREATE TABLE `RATING` (
  `RATING_ID` int(11) NOT NULL AUTO_INCREMENT,
  `AVERAGE_RATING` int(5) DEFAULT NULL,
  `PLACE_ID` int(11) NOT NULL,
  PRIMARY KEY (`RATING_ID`),
  KEY `fk_RATING_PLACES1_idx` (`PLACE_ID`),
  CONSTRAINT `fk_RATING_PLACES1` FOREIGN KEY (`PLACE_ID`) REFERENCES `places` (`PLACE_ID`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci

-- RATING_STAR -- 

CREATE TABLE `RATING_STAR` (
  `RSTAR_ID` int(11) NOT NULL AUTO_INCREMENT,
  `TOTAL_RATING` int(5) DEFAULT NULL,
  `USERS_USER_ID` int(3) NOT NULL,
  `PLACE_ID` int(3) NOT NULL,
  PRIMARY KEY (`RSTAR_ID`),
  KEY `fk_YOUR_RATING_USERS1_idx` (`USERS_USER_ID`),
  KEY `fk_RATING_STAR_PLACES1_idx` (`PLACE_ID`),
  CONSTRAINT `fk_RATING_STAR_PLACES1` FOREIGN KEY (`PLACE_ID`) REFERENCES `places` (`PLACE_ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `fk_YOUR_RATING_USERS1` FOREIGN KEY (`USERS_USER_ID`) REFERENCES `users` (`USER_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=19 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci

-- COMMENT --

CREATE TABLE `COMMENT` (
  `COMMENT_ID` int(11) NOT NULL AUTO_INCREMENT,
  `COMMENT` varchar(100) DEFAULT NULL,
  `NAME` varchar(45) NOT NULL,
  `USERS_USER_ID` int(3) NOT NULL,
  `PLACE_ID` int(11) NOT NULL,
  PRIMARY KEY (`COMMENT_ID`),
  KEY `fk_COMMENT_USERS1_idx` (`USERS_USER_ID`),
  KEY `fk_COMMENT_PLACES1_idx` (`PLACE_ID`),
  CONSTRAINT `fk_COMMENT_PLACES1` FOREIGN KEY (`PLACE_ID`) REFERENCES `places` (`PLACE_ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `fk_COMMENT_USERS1` FOREIGN KEY (`USERS_USER_ID`) REFERENCES `users` (`USER_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=19 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci


-- FEEBACK -- 

CREATE TABLE `FEEDBACK` (
  `FEEDBACK_ID` int(11) NOT NULL AUTO_INCREMENT,
  `FEEDBACK_COMMENT` varchar(45) DEFAULT NULL,
  `YESORNO` varchar(3) NOT NULL,
  `users_user_id` int(3) NOT NULL,
  PRIMARY KEY (`FEEDBACK_ID`),
  KEY `fk_FEEDBACK_USERS1_idx` (`users_user_id`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci
